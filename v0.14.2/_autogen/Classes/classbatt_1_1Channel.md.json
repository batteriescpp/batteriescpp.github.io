{
  "abstract": false,
  "anchor": "",
  "brief": "A Channel<T> is a one-way, unbuffered, SPSC (single-producer, single consumer) communication/synchronization primitive. ",
  "category": "classes",
  "const": false,
  "definition": "",
  "explicit": false,
  "fullname": "batt::Channel",
  "hasAdditionalMembers": false,
  "hasDetails": true,
  "includes": "<batteries/async/channel.hpp>",
  "inline": false,
  "kind": "class",
  "language": "cpp",
  "location": {
    "bodyEnd": 95,
    "bodyFile": "batteries/async/channel.hpp",
    "bodyStart": 22,
    "column": 1,
    "file": "batteries/async/channel.hpp",
    "line": 21
  },
  "name": "batt::Channel",
  "override": false,
  "parent": {
    "anchor": "",
    "category": "namespaces",
    "fullname": "batt",
    "kind": "namespace",
    "language": "cpp",
    "name": "batt",
    "refid": "namespacebatt",
    "title": "batt",
    "url": "/_autogen/Namespaces/namespacebatt/",
    "visibility": "public"
  },
  "parentBreadcrumbs": [
    {
      "anchor": "",
      "category": "namespaces",
      "fullname": "batt",
      "kind": "namespace",
      "language": "cpp",
      "name": "batt",
      "refid": "namespacebatt",
      "title": "batt",
      "url": "/_autogen/Namespaces/namespacebatt/",
      "visibility": "public"
    }
  ],
  "privateAttributes": [
    {
      "abstract": false,
      "anchor": "#variable-read-count-",
      "category": "attributes",
      "const": false,
      "definition": "Watch<i32> batt::Channel< T >::read_count_",
      "explicit": false,
      "fullname": "batt::Channel::read_count_",
      "hasDetails": false,
      "initializer": "{0}",
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 92,
        "column": 11,
        "file": "batteries/async/channel.hpp",
        "line": 92
      },
      "name": "read_count_",
      "override": false,
      "refid": "classbatt_1_1Channel_1a88b6e73885c82694c1e909dcf3ecccaa",
      "static": false,
      "strong": false,
      "title": "read_count_",
      "type": "[Watch](/_autogen/Classes/classbatt_1_1Watch/)< i32 >",
      "typePlain": "Watch< i32 >",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#variable-read-count-",
      "visibility": "private"
    },
    {
      "abstract": false,
      "anchor": "#variable-write-count-",
      "category": "attributes",
      "const": false,
      "definition": "Watch<i32> batt::Channel< T >::write_count_",
      "explicit": false,
      "fullname": "batt::Channel::write_count_",
      "hasDetails": false,
      "initializer": "{0}",
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 93,
        "column": 11,
        "file": "batteries/async/channel.hpp",
        "line": 93
      },
      "name": "write_count_",
      "override": false,
      "refid": "classbatt_1_1Channel_1a4dd92b5b658f46a1da31af496abecc33",
      "static": false,
      "strong": false,
      "title": "write_count_",
      "type": "[Watch](/_autogen/Classes/classbatt_1_1Watch/)< i32 >",
      "typePlain": "Watch< i32 >",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#variable-write-count-",
      "visibility": "private"
    },
    {
      "abstract": false,
      "anchor": "#variable-value-",
      "category": "attributes",
      "const": false,
      "definition": "T* batt::Channel< T >::value_",
      "explicit": false,
      "fullname": "batt::Channel::value_",
      "hasDetails": false,
      "initializer": "= nullptr",
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 94,
        "column": 7,
        "file": "batteries/async/channel.hpp",
        "line": 94
      },
      "name": "value_",
      "override": false,
      "refid": "classbatt_1_1Channel_1a3edb0f7b26c57eca16d693bc8d9991ed",
      "static": false,
      "strong": false,
      "title": "value_",
      "type": "T *",
      "typePlain": "T *",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#variable-value-",
      "visibility": "private"
    }
  ],
  "publicFunctions": [
    {
      "abstract": false,
      "anchor": "#function-channel",
      "argsString": "()",
      "brief": "Construct a new [Channel](/_autogen/Classes/classbatt_1_1Channel/) object. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::Channel< T >::Channel",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Channel::Channel",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 28,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 26,
        "column": 5,
        "file": "batteries/async/channel.hpp",
        "line": 26
      },
      "name": "Channel",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1ac8f2ae5ba012ba105ef2caaa98898368",
      "static": false,
      "strong": false,
      "summary": "Construct a new Channel object. ",
      "title": "Channel",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-channel",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-channel",
      "argsString": "(const Channel &)=delete",
      "brief": "[Channel](/_autogen/Classes/classbatt_1_1Channel/) is not copy-constructible. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::Channel< T >::Channel",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::Channel::Channel",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 5,
        "file": "batteries/async/channel.hpp",
        "line": 32
      },
      "name": "Channel",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "const [Channel](/_autogen/Classes/classbatt_1_1Channel/) &",
          "typePlain": "const Channel &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1ab04be87fa08a060bee83ccf66477417e",
      "static": false,
      "strong": false,
      "summary": "Channel is not copy-constructible. ",
      "title": "Channel",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-channel",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-operator=",
      "argsString": "(const Channel &)=delete",
      "brief": "[Channel](/_autogen/Classes/classbatt_1_1Channel/) is not copy-assignable. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "Channel& batt::Channel< T >::operator=",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::Channel::operator=",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 13,
        "file": "batteries/async/channel.hpp",
        "line": 36
      },
      "name": "operator=",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "const [Channel](/_autogen/Classes/classbatt_1_1Channel/) &",
          "typePlain": "const Channel &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1a8665f88acb71b62cf099bfa0a60fb1ec",
      "static": false,
      "strong": false,
      "summary": "Channel is not copy-assignable. ",
      "title": "operator=",
      "type": "[Channel](/_autogen/Classes/classbatt_1_1Channel/) &",
      "typePlain": "Channel &",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-operator=",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-~channel",
      "argsString": "()",
      "brief": "Destroy the [Channel](/_autogen/Classes/classbatt_1_1Channel/); calls `close_for_write` and waits for any active reader to finish (via `[consume()]()`). ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::Channel< T >::~Channel",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Channel::~Channel",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 45,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 41,
        "column": 5,
        "file": "batteries/async/channel.hpp",
        "line": 41
      },
      "name": "~Channel",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1ab4d45dc67aac1b43a3e84315731fae6e",
      "static": false,
      "strong": false,
      "summary": "Destroy the Channel; calls close_for_write and waits for any active reader to finish (via consume()). ",
      "title": "~Channel",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-~channel",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-is-active",
      "argsString": "() const",
      "brief": "Returns true iff there is currently an object available on the channel. ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "bool batt::Channel< T >::is_active",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Channel::is_active",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 136,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 133,
        "column": 10,
        "file": "batteries/async/channel.hpp",
        "line": 51
      },
      "name": "is_active",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1ae19c5bc390701fa790c6f7fc7c4245cc",
      "static": false,
      "strong": false,
      "summary": "Returns true iff there is currently an object available on the channel. ",
      "title": "is_active",
      "type": "bool",
      "typePlain": "bool",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-is-active",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-read",
      "argsString": "()",
      "brief": "Wait for an object to be written to the [Channel](/_autogen/Classes/classbatt_1_1Channel/), then return a reference to that object. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "StatusOr< T & > batt::Channel< T >::read",
      "deleted": false,
      "details": "The referred object will stay valid until `[consume()](/_autogen/Classes/classbatt_1_1Channel/#function-consume)` is called. ",
      "explicit": false,
      "fullname": "batt::Channel::read",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 147,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 141,
        "column": 14,
        "file": "batteries/async/channel.hpp",
        "line": 58
      },
      "name": "read",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1a8d51ee7435c57915b27380f7e5cf8335",
      "static": false,
      "strong": false,
      "summary": "Wait for an object to be written to the Channel, then return a reference to that object. ",
      "title": "read",
      "type": "[StatusOr](/_autogen/Classes/classbatt_1_1StatusOr/)< T & >",
      "typePlain": "StatusOr< T & >",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-read",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-consume",
      "argsString": "()",
      "brief": "Release the last value read on the [Channel](/_autogen/Classes/classbatt_1_1Channel/). ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::Channel< T >::consume",
      "deleted": false,
      "details": "Panic if `[consume()](/_autogen/Classes/classbatt_1_1Channel/#function-consume)` is called without a prior successful call to `[read()](/_autogen/Classes/classbatt_1_1Channel/#function-read)` (indicating that `this->[is_active()](/_autogen/Classes/classbatt_1_1Channel/#function-is-active)` is true). ",
      "explicit": false,
      "fullname": "batt::Channel::consume",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 157,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 152,
        "column": 10,
        "file": "batteries/async/channel.hpp",
        "line": 63
      },
      "name": "consume",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1a716e965de27096d3111a5df0c86f59cb",
      "static": false,
      "strong": false,
      "summary": "Release the last value read on the Channel. ",
      "title": "consume",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-consume",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-close-for-read",
      "argsString": "()",
      "brief": "Unblock all ongoing calls to write/async_write and cause all future calls to fail with closed error status. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::Channel< T >::close_for_read",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Channel::close_for_read",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 185,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 182,
        "column": 10,
        "file": "batteries/async/channel.hpp",
        "line": 68
      },
      "name": "close_for_read",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1a928f3abb7839a152a30d5d2ebbc1d68f",
      "static": false,
      "strong": false,
      "summary": "Unblock all ongoing calls to write/async_write and cause all future calls to fail with closed error status. ",
      "title": "close_for_read",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-close-for-read",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-async-write",
      "argsString": "(T &value, Handler &&handler)",
      "brief": "Write a value to the [Channel](/_autogen/Classes/classbatt_1_1Channel/). ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::Channel< T >::async_write",
      "deleted": false,
      "details": "Panic if there is currently an ongoing write (single-producer).\n\nThe passed handler is invoked once the value is consumed via `read`/`consume`. ",
      "explicit": false,
      "fullname": "batt::Channel::async_write",
      "hasDetails": true,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 128,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 103,
        "column": 10,
        "file": "batteries/async/channel.hpp",
        "line": 77
      },
      "name": "async_write",
      "override": false,
      "params": [
        {
          "name": "value",
          "type": "T &",
          "typePlain": "T &"
        },
        {
          "name": "handler",
          "type": "Handler &&",
          "typePlain": "Handler &&"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1a8903c00ac2f8403f071e2eb0af424ae3",
      "static": false,
      "strong": false,
      "summary": "Write a value to the Channel. ",
      "templateParams": [
        {
          "defval": "void([Status](/_autogen/Classes/classbatt_1_1Status/))",
          "defvalPlain": "void(Status)",
          "name": "",
          "type": "typename Handler",
          "typePlain": "typename Handler"
        }
      ],
      "title": "async_write",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-async-write",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-write",
      "argsString": "(T &value)",
      "brief": "Blocking ([Task::await]()) version of `async_write`. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "Status batt::Channel< T >::write",
      "deleted": false,
      "details": "This function will not return until the passed value has been consumed. The value is guaranteed not to be copied; the consumer will see the same exact object passed into write. ",
      "explicit": false,
      "fullname": "batt::Channel::write",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 177,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 162,
        "column": 12,
        "file": "batteries/async/channel.hpp",
        "line": 83
      },
      "name": "write",
      "override": false,
      "params": [
        {
          "name": "value",
          "type": "T &",
          "typePlain": "T &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1a4c9411f28b9cc7e8e1a1a29a55960151",
      "static": false,
      "strong": false,
      "summary": "Blocking (Task::await) version of async_write. ",
      "title": "write",
      "type": "[Status](/_autogen/Classes/classbatt_1_1Status/)",
      "typePlain": "Status",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-write",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-close-for-write",
      "argsString": "()",
      "brief": "Unblock all ongoing calls to read and cause all future calls to fail with closed error status. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::Channel< T >::close_for_write",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Channel::close_for_write",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 193,
        "bodyFile": "batteries/async/channel.hpp",
        "bodyStart": 190,
        "column": 10,
        "file": "batteries/async/channel.hpp",
        "line": 87
      },
      "name": "close_for_write",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Channel_1aaf54d4a6b597592eb447067b979508f1",
      "static": false,
      "strong": false,
      "summary": "Unblock all ongoing calls to read and cause all future calls to fail with closed error status. ",
      "title": "close_for_write",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1Channel/#function-close-for-write",
      "virtual": false,
      "visibility": "public"
    }
  ],
  "refid": "classbatt_1_1Channel",
  "static": false,
  "strong": false,
  "summary": "A Channel<T> is a one-way, unbuffered, SPSC (single-producer, single consumer) communication/synchronization primitive. ",
  "templateParams": [
    {
      "name": "",
      "type": "typename T",
      "typePlain": "typename T"
    }
  ],
  "title": "batt::Channel",
  "url": "/_autogen/Classes/classbatt_1_1Channel/",
  "visibility": "public"
}