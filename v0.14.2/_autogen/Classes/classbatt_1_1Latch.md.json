{
  "abstract": false,
  "anchor": "",
  "baseClasses": [
    {
      "external": true,
      "name": "RefCounted< Latch< T > >",
      "refid": null,
      "virtual": "non-virtual",
      "visibility": "public"
    }
  ],
  "brief": "A write-once, single-value synchronized container. ",
  "category": "classes",
  "const": false,
  "definition": "",
  "derivedClasses": [
    {
      "external": false,
      "name": "batt::detail::FutureImpl< T >",
      "refid": "classbatt_1_1detail_1_1FutureImpl",
      "url": "/_autogen/Classes/classbatt_1_1detail_1_1FutureImpl/",
      "virtual": "non-virtual",
      "visibility": "public"
    }
  ],
  "details": "Similar to a Future/Promise pair, but [Latch](/_autogen/Classes/classbatt_1_1Latch/) has no defined copy/move semantics. ",
  "explicit": false,
  "fullname": "batt::Latch",
  "hasAdditionalMembers": false,
  "hasDetails": true,
  "includes": "<batteries/async/latch.hpp>",
  "inline": false,
  "kind": "class",
  "language": "cpp",
  "location": {
    "bodyEnd": 132,
    "bodyFile": "batteries/async/latch.hpp",
    "bodyStart": 29,
    "column": 1,
    "file": "batteries/async/latch.hpp",
    "line": 28
  },
  "name": "batt::Latch",
  "override": false,
  "parent": {
    "anchor": "",
    "category": "namespaces",
    "fullname": "batt",
    "kind": "namespace",
    "language": "cpp",
    "name": "batt",
    "refid": "namespacebatt",
    "title": "batt",
    "url": "/_autogen/Namespaces/namespacebatt/",
    "visibility": "public"
  },
  "parentBreadcrumbs": [
    {
      "anchor": "",
      "category": "namespaces",
      "fullname": "batt",
      "kind": "namespace",
      "language": "cpp",
      "name": "batt",
      "refid": "namespacebatt",
      "title": "batt",
      "url": "/_autogen/Namespaces/namespacebatt/",
      "visibility": "public"
    }
  ],
  "privateAttributes": [
    {
      "abstract": false,
      "anchor": "#variable-state-",
      "category": "attributes",
      "const": false,
      "definition": "Watch<u32> batt::Latch< T >::state_",
      "explicit": false,
      "fullname": "batt::Latch::state_",
      "hasDetails": false,
      "initializer": "{kInitial}",
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 130,
        "column": 11,
        "file": "batteries/async/latch.hpp",
        "line": 130
      },
      "name": "state_",
      "override": false,
      "refid": "classbatt_1_1Latch_1ac526594d61a70a21a1743ea4f5081153",
      "static": false,
      "strong": false,
      "title": "state_",
      "type": "[Watch](/_autogen/Classes/classbatt_1_1Watch/)< u32 >",
      "typePlain": "Watch< u32 >",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#variable-state-",
      "visibility": "private"
    },
    {
      "abstract": false,
      "anchor": "#variable-value-",
      "category": "attributes",
      "const": false,
      "definition": "Optional<StatusOr<T> > batt::Latch< T >::value_",
      "explicit": false,
      "fullname": "batt::Latch::value_",
      "hasDetails": false,
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 131,
        "column": 14,
        "file": "batteries/async/latch.hpp",
        "line": 131
      },
      "name": "value_",
      "override": false,
      "refid": "classbatt_1_1Latch_1a0874274dc3dd047286adfdfaea80acc7",
      "static": false,
      "strong": false,
      "title": "value_",
      "type": "[Optional](/_autogen/Classes/classbatt_1_1Optional/)< [StatusOr](/_autogen/Classes/classbatt_1_1StatusOr/)< T > >",
      "typePlain": "Optional< StatusOr< T > >",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#variable-value-",
      "visibility": "private"
    }
  ],
  "publicClasses": [
    {
      "anchor": "",
      "category": "classes",
      "fullname": "batt::Latch::AsyncGetHandler",
      "kind": "class",
      "language": "cpp",
      "name": "batt::Latch::AsyncGetHandler",
      "refid": "classbatt_1_1Latch_1_1AsyncGetHandler",
      "title": "batt::Latch::AsyncGetHandler",
      "url": "/_autogen/Classes/classbatt_1_1Latch_1_1AsyncGetHandler/",
      "visibility": "public"
    }
  ],
  "publicFunctions": [
    {
      "abstract": false,
      "anchor": "#function-latch",
      "argsString": "()=default",
      "brief": "Default construct an empty [Latch](/_autogen/Classes/classbatt_1_1Latch/). ",
      "category": "functions",
      "const": false,
      "default": true,
      "definition": "batt::Latch< T >::Latch",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::Latch",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 5,
        "file": "batteries/async/latch.hpp",
        "line": 44
      },
      "name": "Latch",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1afa6584f5016d9d17161af38c42fb93e4",
      "static": false,
      "strong": false,
      "summary": "Default construct an empty Latch. ",
      "title": "Latch",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-latch",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-latch",
      "argsString": "(const Latch &)=delete",
      "brief": "[Latch](/_autogen/Classes/classbatt_1_1Latch/) is not copy/move-constructible. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::Latch< T >::Latch",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::Latch::Latch",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 5,
        "file": "batteries/async/latch.hpp",
        "line": 48
      },
      "name": "Latch",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "const [Latch](/_autogen/Classes/classbatt_1_1Latch/) &",
          "typePlain": "const Latch &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1a5af9714d643b6f3f0eeff26d1d1509c8",
      "static": false,
      "strong": false,
      "summary": "Latch is not copy/move-constructible. ",
      "title": "Latch",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-latch",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-operator=",
      "argsString": "(const Latch &)=delete",
      "brief": "[Latch](/_autogen/Classes/classbatt_1_1Latch/) is not copy/move-assignable. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "Latch& batt::Latch< T >::operator=",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::Latch::operator=",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 11,
        "file": "batteries/async/latch.hpp",
        "line": 52
      },
      "name": "operator=",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "const [Latch](/_autogen/Classes/classbatt_1_1Latch/) &",
          "typePlain": "const Latch &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1a9728ff7782c9937a77768ddc1ce93c61",
      "static": false,
      "strong": false,
      "summary": "Latch is not copy/move-assignable. ",
      "title": "operator=",
      "type": "[Latch](/_autogen/Classes/classbatt_1_1Latch/) &",
      "typePlain": "Latch &",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-operator=",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-set-value",
      "argsString": "(Args &&... args)",
      "brief": "Sets the value, closing the latch. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "bool batt::Latch< T >::set_value",
      "deleted": false,
      "details": "\\detail `args` are used to construct a StatusOr<T>, so you can pass an instance of `T` to set_value, or a [Status](/_autogen/Classes/classbatt_1_1Status/) to indicate an error occurred.",
      "explicit": false,
      "fullname": "batt::Latch::set_value",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 72,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 63,
        "column": 10,
        "file": "batteries/async/latch.hpp",
        "line": 63
      },
      "name": "set_value",
      "override": false,
      "params": [
        {
          "name": "args",
          "type": "Args &&...",
          "typePlain": "Args &&..."
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1abd710464d27348016484133a65367fd0",
      "returns": [
        "true if the [Latch](/_autogen/Classes/classbatt_1_1Latch/) was not previously set and this call succeeded in setting its value, or false if the value was previously/concurrently set by another thread. "
      ],
      "static": false,
      "strong": false,
      "summary": "Sets the value, closing the latch. ",
      "templateParams": [
        {
          "name": "Args",
          "type": "typename...",
          "typePlain": "typename..."
        }
      ],
      "title": "set_value",
      "type": "bool",
      "typePlain": "bool",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-set-value",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-is-ready",
      "argsString": "() const",
      "brief": "Returns true iff the latch is in the ready state. ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "bool batt::Latch< T >::is_ready",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::is_ready",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 79,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 76,
        "column": 10,
        "file": "batteries/async/latch.hpp",
        "line": 76
      },
      "name": "is_ready",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1aa76f580d168e0e9f0872a56fe5d2e8e6",
      "static": false,
      "strong": false,
      "summary": "Returns true iff the latch is in the ready state. ",
      "title": "is_ready",
      "type": "bool",
      "typePlain": "bool",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-is-ready",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-await",
      "argsString": "()",
      "brief": "Block the current task until the [Latch](/_autogen/Classes/classbatt_1_1Latch/) is ready, then return the set value (or [Status]()). ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "StatusOr<T> batt::Latch< T >::await",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::await",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 89,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 83,
        "column": 14,
        "file": "batteries/async/latch.hpp",
        "line": 83
      },
      "name": "await",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1af379a62b2a7bb2798adfaa601f358ee3",
      "static": false,
      "strong": false,
      "summary": "Block the current task until the Latch is ready, then return the set value (or Status). ",
      "title": "await",
      "type": "[StatusOr](/_autogen/Classes/classbatt_1_1StatusOr/)< T >",
      "typePlain": "StatusOr< T >",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-await",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-poll",
      "argsString": "()",
      "brief": "Same as [await()](/_autogen/Classes/classbatt_1_1Latch/#function-await), except this method never blocks; if the [Latch](/_autogen/Classes/classbatt_1_1Latch/) isn't ready yet, it immediately returns `StatusCode::kUnavailable`. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "StatusOr<T> batt::Latch< T >::poll",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::poll",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 100,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 94,
        "column": 14,
        "file": "batteries/async/latch.hpp",
        "line": 94
      },
      "name": "poll",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1ab47ffee9bd072c7c6868703997c61226",
      "static": false,
      "strong": false,
      "summary": "Same as await(), except this method never blocks; if the Latch isn't ready yet, it immediately returns StatusCode::kUnavailable. ",
      "title": "poll",
      "type": "[StatusOr](/_autogen/Classes/classbatt_1_1StatusOr/)< T >",
      "typePlain": "StatusOr< T >",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-poll",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-get-ready-value-or-panic",
      "argsString": "()",
      "brief": "Returns the value of the [Latch](/_autogen/Classes/classbatt_1_1Latch/) (non-blocking), panicking if it is not in the ready state. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "StatusOr<T> batt::Latch< T >::get_ready_value_or_panic",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::get_ready_value_or_panic",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 110,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 104,
        "column": 14,
        "file": "batteries/async/latch.hpp",
        "line": 104
      },
      "name": "get_ready_value_or_panic",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1a3670be26418513e453f34fbf1456105d",
      "static": false,
      "strong": false,
      "summary": "Returns the value of the Latch (non-blocking), panicking if it is not in the ready state. ",
      "title": "get_ready_value_or_panic",
      "type": "[StatusOr](/_autogen/Classes/classbatt_1_1StatusOr/)< T >",
      "typePlain": "StatusOr< T >",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-get-ready-value-or-panic",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-async-get",
      "argsString": "(Handler &&handler)",
      "brief": "Invokes `handler` when the [Latch](/_autogen/Classes/classbatt_1_1Latch/) value is set (i.e., when it enters the ready state); invokes handler immediately if the [Latch](/_autogen/Classes/classbatt_1_1Latch/) is ready when this method is called. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::Latch< T >::async_get",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::async_get",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 172,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 169,
        "column": 10,
        "file": "batteries/async/latch.hpp",
        "line": 116
      },
      "name": "async_get",
      "override": false,
      "params": [
        {
          "name": "handler",
          "type": "Handler &&",
          "typePlain": "Handler &&"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1a3c782a7fa2e5a445589cc4f67fa8c8f1",
      "static": false,
      "strong": false,
      "summary": "Invokes handler when the Latch value is set (i.e., when it enters the ready state); invokes handler immediately if the Latch is ready when this method is called. ",
      "templateParams": [
        {
          "name": "",
          "type": "typename Handler",
          "typePlain": "typename Handler"
        }
      ],
      "title": "async_get",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-async-get",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-invalidate",
      "argsString": "()",
      "brief": "Force the latch into an invalid state (for testing mostly). ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::Latch< T >::invalidate",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::Latch::invalidate",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 123,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 120,
        "column": 10,
        "file": "batteries/async/latch.hpp",
        "line": 120
      },
      "name": "invalidate",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1Latch_1aaf3cedaba1904c9c390ce51a3581a0c9",
      "static": false,
      "strong": false,
      "summary": "Force the latch into an invalid state (for testing mostly). ",
      "title": "invalidate",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#function-invalidate",
      "virtual": false,
      "visibility": "public"
    }
  ],
  "publicTypes": [
    {
      "abstract": false,
      "anchor": "#enum-state",
      "brief": "The possible states for the [Latch](/_autogen/Classes/classbatt_1_1Latch/). ",
      "category": "types",
      "const": false,
      "definition": "",
      "enumvalues": [
        {
          "anchor": "#enumvalue-kinitial",
          "category": "types",
          "definition": "",
          "fullname": "State::kInitial",
          "hasDetails": false,
          "initializer": "= 0",
          "kind": "enumvalue",
          "language": "",
          "name": "kInitial",
          "refid": "classbatt_1_1Latch_1ab6c92d4a71d38a05736b5369d03229e7aa27bb7691e51a9bea3948f07d423fe19",
          "title": "kInitial",
          "url": "/_autogen/Classes/classbatt_1_1Latch/#enumvalue-kinitial",
          "visibility": "public"
        },
        {
          "anchor": "#enumvalue-ksetting",
          "category": "types",
          "definition": "",
          "fullname": "State::kSetting",
          "hasDetails": false,
          "initializer": "= 1",
          "kind": "enumvalue",
          "language": "",
          "name": "kSetting",
          "refid": "classbatt_1_1Latch_1ab6c92d4a71d38a05736b5369d03229e7ae00f3475b2c928c21d93201efb2f66dd",
          "title": "kSetting",
          "url": "/_autogen/Classes/classbatt_1_1Latch/#enumvalue-ksetting",
          "visibility": "public"
        },
        {
          "anchor": "#enumvalue-kready",
          "category": "types",
          "definition": "",
          "fullname": "State::kReady",
          "hasDetails": false,
          "initializer": "= 3",
          "kind": "enumvalue",
          "language": "",
          "name": "kReady",
          "refid": "classbatt_1_1Latch_1ab6c92d4a71d38a05736b5369d03229e7a4291c29716f4ebc684949a2839b7701a",
          "title": "kReady",
          "url": "/_autogen/Classes/classbatt_1_1Latch/#enumvalue-kready",
          "visibility": "public"
        }
      ],
      "explicit": false,
      "fullname": "batt::Latch::State",
      "hasDetails": false,
      "inline": false,
      "kind": "enum",
      "language": "cpp",
      "location": {
        "bodyEnd": 38,
        "bodyFile": "batteries/async/latch.hpp",
        "bodyStart": 33,
        "column": 5,
        "file": "batteries/async/latch.hpp",
        "line": 33
      },
      "name": "State",
      "override": false,
      "refid": "classbatt_1_1Latch_1ab6c92d4a71d38a05736b5369d03229e7",
      "static": false,
      "strong": false,
      "summary": "The possible states for the Latch. ",
      "title": "State",
      "type": "u32",
      "typePlain": "u32",
      "url": "/_autogen/Classes/classbatt_1_1Latch/#enum-state",
      "visibility": "public"
    }
  ],
  "refid": "classbatt_1_1Latch",
  "static": false,
  "strong": false,
  "summary": "A write-once, single-value synchronized container. ",
  "templateParams": [
    {
      "name": "",
      "type": "typename T",
      "typePlain": "typename T"
    }
  ],
  "title": "batt::Latch",
  "url": "/_autogen/Classes/classbatt_1_1Latch/",
  "visibility": "public"
}