{
  "abstract": false,
  "anchor": "",
  "brief": "A claim on some counted resource. ",
  "category": "classes",
  "const": false,
  "definition": "",
  "details": "The unit of a Grant's size is not specified and depends on the application context.\n\nThis class replaces [SpinGrant](/_autogen/Classes/classbatt_1_1SpinGrant/) (the prior implementation of the `batt::Grant` type) with a new implementation that is at least as fast in the no-contention case, and scales gracefully as pressure to issue grants or spend parts of existing grants (blocking) increases (in terms of number of waiting Tasks).\n\nIn contrast, [SpinGrant](/_autogen/Classes/classbatt_1_1SpinGrant/) suffers from \"thundering herd\" problems as the number of Tasks waiting to claim some count increases, significantly degrading performance under heavy contention.",
  "explicit": false,
  "friends": [
    {
      "abstract": false,
      "anchor": "#friend-scalablegrantissuer",
      "argsString": "",
      "category": "friends",
      "const": false,
      "default": false,
      "definition": "friend class ScalableGrantIssuer",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::ScalableGrantIssuer",
      "hasDetails": false,
      "inline": false,
      "kind": "friend",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 241,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 241
      },
      "name": "ScalableGrantIssuer",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "[ScalableGrantIssuer](/_autogen/Classes/classbatt_1_1ScalableGrantIssuer/)",
          "typePlain": "ScalableGrantIssuer"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a289cfa5c8f3a3489bd9ea573768f5553",
      "static": false,
      "strong": false,
      "title": "ScalableGrantIssuer",
      "type": "class",
      "typePlain": "class",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#friend-scalablegrantissuer",
      "virtual": false,
      "visibility": "private"
    }
  ],
  "fullname": "batt::ScalableGrant",
  "hasAdditionalMembers": false,
  "hasDetails": true,
  "includes": "<batteries/async/scalable_grant.hpp>",
  "inline": false,
  "kind": "class",
  "language": "cpp",
  "location": {
    "bodyEnd": 367,
    "bodyFile": "batteries/async/scalable_grant.hpp",
    "bodyStart": 240,
    "column": 1,
    "file": "batteries/async/scalable_grant.hpp",
    "line": 239
  },
  "name": "batt::ScalableGrant",
  "override": false,
  "parent": {
    "anchor": "",
    "category": "namespaces",
    "fullname": "batt",
    "kind": "namespace",
    "language": "cpp",
    "name": "batt",
    "refid": "namespacebatt",
    "title": "batt",
    "url": "/_autogen/Namespaces/namespacebatt/",
    "visibility": "public"
  },
  "parentBreadcrumbs": [
    {
      "anchor": "",
      "category": "namespaces",
      "fullname": "batt",
      "kind": "namespace",
      "language": "cpp",
      "name": "batt",
      "refid": "namespacebatt",
      "title": "batt",
      "url": "/_autogen/Namespaces/namespacebatt/",
      "visibility": "public"
    }
  ],
  "privateAttributes": [
    {
      "abstract": false,
      "anchor": "#variable-state-",
      "category": "attributes",
      "const": false,
      "definition": "State batt::ScalableGrant::state_",
      "explicit": false,
      "fullname": "batt::ScalableGrant::state_",
      "hasDetails": false,
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 362,
        "column": 11,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 362
      },
      "name": "state_",
      "override": false,
      "refid": "classbatt_1_1ScalableGrant_1ad41751c8f9ca3ac593f6a64b923433ea",
      "static": false,
      "strong": false,
      "title": "state_",
      "type": "State",
      "typePlain": "State",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#variable-state-",
      "visibility": "private"
    },
    {
      "abstract": false,
      "anchor": "#variable-issuer-",
      "category": "attributes",
      "const": false,
      "definition": "UniqueNonOwningPtr<Issuer> batt::ScalableGrant::issuer_",
      "explicit": false,
      "fullname": "batt::ScalableGrant::issuer_",
      "hasDetails": false,
      "inline": false,
      "kind": "variable",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 366,
        "column": 24,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 366
      },
      "name": "issuer_",
      "override": false,
      "refid": "classbatt_1_1ScalableGrant_1aebb6c8154b3f5c904ccaef7bbb17ed3b",
      "static": false,
      "strong": false,
      "title": "issuer_",
      "type": "UniqueNonOwningPtr< [Issuer](/_autogen/Classes/classbatt_1_1ScalableGrantIssuer/) >",
      "typePlain": "UniqueNonOwningPtr< Issuer >",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#variable-issuer-",
      "visibility": "private"
    }
  ],
  "privateFunctions": [
    {
      "abstract": false,
      "anchor": "#function-scalablegrant",
      "argsString": "(Issuer *issuer, u64 count) noexcept",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::ScalableGrant::ScalableGrant",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::ScalableGrant",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 230,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 226,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 356
      },
      "name": "ScalableGrant",
      "override": false,
      "params": [
        {
          "name": "issuer",
          "type": "[Issuer](/_autogen/Classes/classbatt_1_1ScalableGrantIssuer/) *",
          "typePlain": "Issuer *"
        },
        {
          "name": "count",
          "type": "u64",
          "typePlain": "u64"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a21431f089f0400b4d6a4dfbf21aa84af",
      "static": false,
      "strong": false,
      "title": "ScalableGrant",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-scalablegrant",
      "virtual": false,
      "visibility": "private"
    }
  ],
  "publicFunctions": [
    {
      "abstract": false,
      "anchor": "#function-scalablegrant",
      "argsString": "() noexcept",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::ScalableGrant::ScalableGrant",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::ScalableGrant",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 214,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 212,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 248
      },
      "name": "ScalableGrant",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a81dfacd2a99439bc697fad3103d6cdc5",
      "static": false,
      "strong": false,
      "title": "ScalableGrant",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-scalablegrant",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-scalablegrant",
      "argsString": "(const ScalableGrant &)=delete",
      "brief": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) is not copy-constructible. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::ScalableGrant::ScalableGrant",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::ScalableGrant::ScalableGrant",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 252
      },
      "name": "ScalableGrant",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "const [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &",
          "typePlain": "const ScalableGrant &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1aaba4005373f21bd8b4185c7f44fa33ab",
      "static": false,
      "strong": false,
      "summary": "ScalableGrant is not copy-constructible. ",
      "title": "ScalableGrant",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-scalablegrant",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-operator=",
      "argsString": "(const ScalableGrant &)=delete",
      "brief": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) is not copy-assignable. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "ScalableGrant& batt::ScalableGrant::operator=",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::ScalableGrant::operator=",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 19,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 256
      },
      "name": "operator=",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "const [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &",
          "typePlain": "const ScalableGrant &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1ac1c0e43e625872047edb6185a3d68efa",
      "static": false,
      "strong": false,
      "summary": "ScalableGrant is not copy-assignable. ",
      "title": "operator=",
      "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &",
      "typePlain": "ScalableGrant &",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-operator=",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-scalablegrant",
      "argsString": "(ScalableGrant &&that) noexcept",
      "brief": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) is move-constructible. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::ScalableGrant::ScalableGrant",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::ScalableGrant",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 222,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 218,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 260
      },
      "name": "ScalableGrant",
      "override": false,
      "params": [
        {
          "name": "that",
          "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &&",
          "typePlain": "ScalableGrant &&"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a3c2f29bebd7dc84829193c2bb1de89d0",
      "static": false,
      "strong": false,
      "summary": "ScalableGrant is move-constructible. ",
      "title": "ScalableGrant",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-scalablegrant",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-operator=",
      "argsString": "(ScalableGrant &&)=delete",
      "brief": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) is not move-assignable. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "ScalableGrant& batt::ScalableGrant::operator=",
      "deleted": true,
      "explicit": false,
      "fullname": "batt::ScalableGrant::operator=",
      "hasDetails": false,
      "inline": false,
      "kind": "function",
      "language": "cpp",
      "location": {
        "column": 19,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 264
      },
      "name": "operator=",
      "override": false,
      "params": [
        {
          "name": "",
          "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &&",
          "typePlain": "ScalableGrant &&"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a4796eebf30b08cc335dbde23846ca7d7",
      "static": false,
      "strong": false,
      "summary": "ScalableGrant is not move-assignable. ",
      "title": "operator=",
      "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &",
      "typePlain": "ScalableGrant &",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-operator=",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-~scalablegrant",
      "argsString": "() noexcept",
      "brief": "Destroys the [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/), releasing its allocation back to the ScalableGrant::Issuer that created it. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "batt::ScalableGrant::~ScalableGrant",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::~ScalableGrant",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 237,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 234,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 270
      },
      "name": "~ScalableGrant",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a947430a2113098fe5e00800be1a92d40",
      "static": false,
      "strong": false,
      "summary": "Destroys the ScalableGrant, releasing its allocation back to the ScalableGrant::Issuer that created it. ",
      "title": "~ScalableGrant",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-~scalablegrant",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-get-issuer",
      "argsString": "() const noexcept",
      "brief": "The ScalableGrant::Issuer from which this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) was created. ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "const Issuer* batt::ScalableGrant::get_issuer",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::get_issuer",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 280,
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 277,
        "column": 18,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 277
      },
      "name": "get_issuer",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a5189edb36bc3fd5546a7b734749ab9c0",
      "static": false,
      "strong": false,
      "summary": "The ScalableGrant::Issuer from which this ScalableGrant was created. ",
      "title": "get_issuer",
      "type": "const [Issuer](/_autogen/Classes/classbatt_1_1ScalableGrantIssuer/) *",
      "typePlain": "const Issuer *",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-get-issuer",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-empty",
      "argsString": "() const noexcept",
      "brief": "Tests whether `this->[size()]()` is 0. ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "bool batt::ScalableGrant::empty",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::empty",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 287,
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 284,
        "column": 10,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 284
      },
      "name": "empty",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1af33d60766af7840778f487fd6661328b",
      "static": false,
      "strong": false,
      "summary": "Tests whether this->size() is 0. ",
      "title": "empty",
      "type": "bool",
      "typePlain": "bool",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-empty",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-operator-bool",
      "argsString": "() const noexcept",
      "brief": "Equivalent to this->[is_valid()](). ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "batt::ScalableGrant::operator bool",
      "deleted": false,
      "explicit": true,
      "fullname": "batt::ScalableGrant::operator bool",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 294,
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 291,
        "column": 14,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 291
      },
      "name": "operator bool",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1ac21530c0fa96e27484de972c3dfdbd08",
      "static": false,
      "strong": false,
      "summary": "Equivalent to this->is_valid(). ",
      "title": "operator bool",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-operator-bool",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-is-valid",
      "argsString": "() const noexcept",
      "brief": "Tests whether this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) has non-zero size and is connected to an ScalableGrant::Issuer. ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "bool batt::ScalableGrant::is_valid",
      "deleted": false,
      "details": "A [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) that has been moved from is no longer valid. ",
      "explicit": false,
      "fullname": "batt::ScalableGrant::is_valid",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 302,
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 299,
        "column": 10,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 299
      },
      "name": "is_valid",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a2661a436fea2d998093aab09b8c1491a",
      "static": false,
      "strong": false,
      "summary": "Tests whether this ScalableGrant has non-zero size and is connected to an ScalableGrant::Issuer. ",
      "title": "is_valid",
      "type": "bool",
      "typePlain": "bool",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-is-valid",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-is-revoked",
      "argsString": "() const noexcept",
      "brief": "Tests whether revoke has been called on this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/). ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "bool batt::ScalableGrant::is_revoked",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::is_revoked",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 309,
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 306,
        "column": 10,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 306
      },
      "name": "is_revoked",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a3d965934e7b02ff6604bf5ad6ace2005",
      "static": false,
      "strong": false,
      "summary": "Tests whether revoke has been called on this ScalableGrant. ",
      "title": "is_revoked",
      "type": "bool",
      "typePlain": "bool",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-is-revoked",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-revoke",
      "argsString": "() noexcept",
      "brief": "Permanently invalidates this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/), waking all waiters with error status. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::ScalableGrant::revoke",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::revoke",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 288,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 283,
        "column": 10,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 320
      },
      "name": "revoke",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a71c804dddf303ccb6ab8047c34263213",
      "static": false,
      "strong": false,
      "summary": "Permanently invalidates this ScalableGrant, waking all waiters with error status. ",
      "title": "revoke",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-revoke",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-size",
      "argsString": "() const noexcept",
      "brief": "The current count available for spending on this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/). ",
      "category": "functions",
      "const": true,
      "default": false,
      "definition": "u64 batt::ScalableGrant::size",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::size",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 327,
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 324,
        "column": 9,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 324
      },
      "name": "size",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1aee24173477df1aaacee5dc4860a447f8",
      "static": false,
      "strong": false,
      "summary": "The current count available for spending on this ScalableGrant. ",
      "title": "size",
      "type": "u64",
      "typePlain": "u64",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-size",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-spend",
      "argsString": "(u64 count, WaitForResource wait_for_resource=WaitForResource::kFalse) noexcept",
      "brief": "Spends part of the grant, returning a new [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) representing the spent amount if successful; otherwise: ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "StatusOr< ScalableGrant > batt::ScalableGrant::spend",
      "deleted": false,
      "details": "\n\n* `batt::StatusCode::kGrantUnavailable` if the remaining size of this grant isn't big enough\n* `batt::StatusCode::kGrantRevoked` if this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) has been revoked\n* `batt::StatusCode::kFailedPrecondition` if this [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) has been invalidated by a move ",
      "explicit": false,
      "fullname": "batt::ScalableGrant::spend",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 245,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 241,
        "column": 14,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 335
      },
      "name": "spend",
      "override": false,
      "params": [
        {
          "name": "count",
          "type": "u64",
          "typePlain": "u64"
        },
        {
          "defval": "WaitForResource::kFalse",
          "defvalPlain": "WaitForResource::kFalse",
          "name": "wait_for_resource",
          "type": "WaitForResource",
          "typePlain": "WaitForResource"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a4b7c0b00cde3ae615ecac13fec93a315",
      "static": false,
      "strong": false,
      "summary": "Spends part of the grant, returning a new ScalableGrant representing the spent amount if successful; otherwise: ",
      "title": "spend",
      "type": "[StatusOr](/_autogen/Classes/classbatt_1_1StatusOr/)< [ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) >",
      "typePlain": "StatusOr< ScalableGrant >",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-spend",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-spend-all",
      "argsString": "() noexcept",
      "brief": "Spends all of the grant, returning the previous size. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "u64 batt::ScalableGrant::spend_all",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::spend_all",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 261,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 249,
        "column": 9,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 340
      },
      "name": "spend_all",
      "override": false,
      "params": [],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1ab21f575e43ceda6000c3988735a8331b",
      "static": false,
      "strong": false,
      "summary": "Spends all of the grant, returning the previous size. ",
      "title": "spend_all",
      "type": "u64",
      "typePlain": "u64",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-spend-all",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-subsume",
      "argsString": "(ScalableGrant &&that) noexcept",
      "brief": "Increases this grant by that.size() and set that to empty. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "ScalableGrant & batt::ScalableGrant::subsume",
      "deleted": false,
      "details": "Will panic unless all of the following are true:\n\n* this->[get_issuer()](/_autogen/Classes/classbatt_1_1ScalableGrant/#function-get-issuer) != nullptr\n* this->[get_issuer()](/_autogen/Classes/classbatt_1_1ScalableGrant/#function-get-issuer) == that.get_issuer() ",
      "explicit": false,
      "fullname": "batt::ScalableGrant::subsume",
      "hasDetails": true,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 279,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 265,
        "column": 19,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 348
      },
      "name": "subsume",
      "override": false,
      "params": [
        {
          "name": "that",
          "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &&",
          "typePlain": "ScalableGrant &&"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1acc7055e6f68cda2f719fc140665732de",
      "static": false,
      "strong": false,
      "summary": "Increases this grant by that.size() and set that to empty. ",
      "title": "subsume",
      "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &",
      "typePlain": "ScalableGrant &",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-subsume",
      "virtual": false,
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#function-swap",
      "argsString": "(ScalableGrant &that) noexcept",
      "brief": "Swaps the values of this and that. ",
      "category": "functions",
      "const": false,
      "default": false,
      "definition": "void batt::ScalableGrant::swap",
      "deleted": false,
      "explicit": false,
      "fullname": "batt::ScalableGrant::swap",
      "hasDetails": false,
      "inline": true,
      "kind": "function",
      "language": "cpp",
      "location": {
        "bodyEnd": 296,
        "bodyFile": "batteries/async/scalable_grant_impl.hpp",
        "bodyStart": 292,
        "column": 10,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 352
      },
      "name": "swap",
      "override": false,
      "params": [
        {
          "name": "that",
          "type": "[ScalableGrant](/_autogen/Classes/classbatt_1_1ScalableGrant/) &",
          "typePlain": "ScalableGrant &"
        }
      ],
      "pureVirtual": false,
      "refid": "classbatt_1_1ScalableGrant_1a5ab1be91d2f71ecd90ee521090fd4fce",
      "static": false,
      "strong": false,
      "summary": "Swaps the values of this and that. ",
      "title": "swap",
      "type": "void",
      "typePlain": "void",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#function-swap",
      "virtual": false,
      "visibility": "public"
    }
  ],
  "publicTypes": [
    {
      "abstract": false,
      "anchor": "#using-issuer",
      "category": "types",
      "const": false,
      "definition": "using batt::ScalableGrant::Issuer =  ScalableGrantIssuer",
      "explicit": false,
      "fullname": "batt::ScalableGrant::Issuer",
      "hasDetails": false,
      "inline": false,
      "kind": "using",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 245,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 245
      },
      "name": "Issuer",
      "override": false,
      "refid": "classbatt_1_1ScalableGrant_1ab9c4eafc70d6179d7adb7581b898e236",
      "static": false,
      "strong": false,
      "title": "Issuer",
      "type": "[ScalableGrantIssuer](/_autogen/Classes/classbatt_1_1ScalableGrantIssuer/)",
      "typePlain": "ScalableGrantIssuer",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#using-issuer",
      "visibility": "public"
    },
    {
      "abstract": false,
      "anchor": "#using-state",
      "category": "types",
      "const": false,
      "definition": "using batt::ScalableGrant::State =  Issuer::State",
      "explicit": false,
      "fullname": "batt::ScalableGrant::State",
      "hasDetails": false,
      "inline": false,
      "kind": "using",
      "language": "cpp",
      "location": {
        "bodyFile": "batteries/async/scalable_grant.hpp",
        "bodyStart": 246,
        "column": 5,
        "file": "batteries/async/scalable_grant.hpp",
        "line": 246
      },
      "name": "State",
      "override": false,
      "refid": "classbatt_1_1ScalableGrant_1a00123eae5cc6c10443adcf301876c74e",
      "static": false,
      "strong": false,
      "title": "State",
      "type": "Issuer::State",
      "typePlain": "Issuer::State",
      "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/#using-state",
      "visibility": "public"
    }
  ],
  "refid": "classbatt_1_1ScalableGrant",
  "see": [
    "ScalableGrant::Issuer "
  ],
  "static": false,
  "strong": false,
  "summary": "A claim on some counted resource. ",
  "title": "batt::ScalableGrant",
  "url": "/_autogen/Classes/classbatt_1_1ScalableGrant/",
  "visibility": "public"
}